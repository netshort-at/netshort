<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>netshort.at ‚Äì √ñsterreichische Netto-Short-Positionen</title>
  <style>
  body {
    font-family: Arial, sans-serif;
    max-width: 800px;
    margin: 40px auto;
    line-height: 1.6;
    padding: 0 20px;
    background-color: #f9f9f9;
  }

  h1, h2 {
    color: #2c3e50;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 20px;
  }

  table, th, td {
    border: 1px solid #34495e;
  }

  th, td {
    padding: 10px;
    text-align: left;
  }

  th {
    background-color: #34495e;
    color: white;
  }

  tr:nth-child(even) {
    background-color: #ecf0f1;
  }
</style>

</head>
<body>
  <h1>netshort.at</h1>

<p>
  Privates, nicht-kommerzielles Projekt im Aufbau.
</p>

<p>
  Ziel ist die √ºbersichtliche Darstellung
  √∂sterreichischer Netto-Short-Positionen
  auf Basis √∂ffentlich zug√§nglicher FMA-Daten.
</p>

<p>
  ‚ö†Ô∏è Hinweis:
  Diese Website dient ausschlie√ülich zu
  Lern- und Informationszwecken.
  Keine Anlageberatung, keine Gew√§hr.
</p>

<p>
  üöß Entwicklung l√§uft ‚Äì Inhalte folgen.
</p>
<h2>Beispieltabelle ‚Äì Netto-Short-Positionen</h2>

<table border="1" cellpadding="5" cellspacing="0" id="shortsTable">
  <tr>
    <th>Position Holder</th>
    <th>Issuer</th>
    <th>ISIN Code</th>
    <th>Position Date</th>
    <th>Net Short Position (%)</th>
    <th>Reporting Date</th>
    <th>Cancellation Date</th>
  </tr>
  <tr>
    <td>Beispiel Holder 1</td>
    <td>Testfirma A</td>
    <td>AT0000XXX</td>
    <td>2026-01-01</td>
    <td>2,5</td>
    <td>2026-01-02</td>
    <td>-</td>
  </tr>
  <tr>
    <td>Beispiel Holder 2</td>
    <td>Testfirma B</td>
    <td>AT0000YYY</td>
    <td>2026-01-02</td>
    <td>1,8</td>
    <td>2026-01-03</td>
    <td>-</td>
  </tr>
  <tr>
    <td>Beispiel Holder 3</td>
    <td>Testfirma C</td>
    <td>AT0000ZZZ</td>
    <td>2026-01-03</td>
    <td>3,2</td>
    <td>2026-01-04</td>
    <td>-</td>
  </tr>
</table>


<script>
<script>
async function loadCSV() {
  try {
    // CSV-Datei aus deinem Repository laden
    const response = await fetch('fma_test.csv');
    
    if (!response.ok) {
      throw new Error(`CSV-Datei konnte nicht geladen werden: ${response.statusText}`);
    }

    const text = await response.text();
    const rows = text.split('\n');

    // Tabelle finden
    const table = document.getElementById('shortsTable');

    // Header aus CSV holen (erste Zeile)
    const header = rows[0].split(/[,;]/);
    table.innerHTML = ''; // alte Testzeilen entfernen
    const trHeader = document.createElement('tr');
    header.forEach(h => {
      const th = document.createElement('th');
      th.textContent = h;
      trHeader.appendChild(th);
    });
    table.appendChild(trHeader);

    // Alle weiteren Zeilen hinzuf√ºgen
    rows.slice(1).forEach(row => {
      if (row.trim() === '') return; // leere Zeilen √ºberspringen
      const cols = row.split(/[,;]/); // trennt Komma oder Semikolon
      const tr = document.createElement('tr');
      cols.forEach(col => {
        const td = document.createElement('td');
        td.textContent = col;
        tr.appendChild(td);
      });
      table.appendChild(tr);
    });

    console.log('CSV erfolgreich geladen!');
  } catch (err) {
    console.error('Fehler beim Laden der CSV:', err);
  }
}

// Script starten
loadCSV();
</script>

</script>

</body>
</html>
